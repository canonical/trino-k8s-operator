coordinator=true
discovery.uri=http://localhost:8080
http-server.http.port=8080
node.internal-address-source=FQDN
node-scheduler.include-coordinator=true
internal-communication.shared-secret={{ INT_COMMS_SECRET | default("changeme")}}

http-server.https.enabled=true
http-server.https.port=8443
http-server.https.keystore.path={{ KEYSTORE_PATH }}
http-server.https.keystore.key={{ KEYSTORE_PASS }}

{% if OAUTH_CLIENT_ID is not none and OAUTH_CLIENT_SECRET is not none %}
http-server.authentication.type=oauth2,PASSWORD
web-ui.authentication.type=oauth2
http-server.authentication.oauth2.user-mapping.pattern=(.*)@.*
http-server.authentication.oauth2.issuer=https://accounts.google.com
http-server.authentication.oauth2.principal-field=email
http-server.authentication.oauth2.scopes=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/userinfo.profile,openid
http-server.authentication.oauth2.client-id={{ OAUTH_CLIENT_ID }}
http-server.authentication.oauth2.client-secret={{ OAUTH_CLIENT_SECRET }}
    {% if WEB_PROXY is not none %}
oauth2-jwk.http-client.http-proxy={{ WEB_PROXY }}
    {% endif %}
{% else %}
http-server.authentication.type=PASSWORD
{% endif %}
